🎮 ChatPersona 新玩法策划案：《Persona Undercover》
🧩 概念简介
Persona Undercover 是一个结合 AI 人格、多轮群聊、推理与身份隐藏机制的对话游戏。每个 AI 均保留原有个性设定，通过风格化描述目标词汇参与推理与识别卧底。玩法借鉴《谁是卧底》，强调人格差异与语言风格带来的误导与识破乐趣。

🔧 系统功能概览
模块	功能说明
AI人格系统	延续现有角色系统，支持性格设定、语言风格等 prompt 标签
游戏词库	支持“同义近词对”结构，如【玻璃杯 vs 水杯】、【毛笔 vs 铅笔】
游戏提示词系统	针对每个AI角色生成带性格风格的系统提示词（指令型），指引其风格化描述目标词
对话回合控制	设定游戏回合数，每轮每个角色发言一次
推理投票机制	玩家或AI均可进行卧底投票（可选启用 AI 内部投票机制）
卧底成功判定	设定胜利条件（卧底存活至最后 or 被识破）

🎯 玩法流程
1. 开始游戏
系统选择若干 AI 角色（3~6位），1 位为卧底

为每位角色分配词语（公共词 or 卧底词）

2. 进入描述回合（共 N 轮）
每位角色用自己的人格风格描述词语

禁止说出关键词、拼音、外观、首字母等明显线索

3. 投票淘汰
每轮结束后，玩家或 AI 互相投票，选出最可疑的角色

被投票最多者淘汰（可设置第一轮不淘汰）

4. 胜负判定
卧底存活至剩余2人则胜利

卧底中途被识破则失败

✍️ 系统提示词构造（TreA生成引导）
🎭 角色提示词模板（非卧底）：
你是{用户设定的AI角色}。
你收到的关键词是：「玻璃杯」。
你的任务是在不暴露词语的前提下，依据你的性格风格，用隐晦而贴切的方式描述它。你不能说出词语本身、其拼音、首字母、字数等直接提示。
请维持{用户设定的AI角色}的风格，表达你对关键词的理解，引导同阵营识别词语，并混淆卧底。

🤫 卧底提示词模板：
你是{用户设定的AI角色}。
你是本局游戏的卧底，你拿到的词是：「水杯」。
你不知道其他人的词是什么，只知道它可能是同类的物品。
你的任务是用你的语言风格描述你的词语，不能表现得与其他人明显不同。你要伪装成“知道公共词”的人，避免被投票淘汰。
禁止：
- 直接说出关键词
- 提供拼音、外观特征、首字母提示

💻 UI 页面建议
页面结构草图（组件建议）
区块	功能
游戏主题卡片	当前关键词对展示（仅对用户可见）
多人格发言窗口	每位人格逐轮输出内容（保留头像和名字）
投票区域	可手动投票（或模拟AI投票）
游戏结果弹窗	展示谁是卧底、谁投对了、胜负结果

📦 游戏词库设计建议
公共词	卧底词	难度
玻璃杯	水杯	简单
火锅	汤锅	中等
铅笔	毛笔	高难
飞机	火箭	中等
魔法	科技	高难
猫	狮子	高难

支持上传扩展词库 CSV，或结合 HuggingFace 近义词生成 API 动态构造。

🧠 智能优化建议
功能	说明
模型记忆提示注入	系统注入每轮前文记忆，保持人格一致性
风格干预模板库	构造不同风格参考表达模板（如“中二风 = 夸张+比喻”）
“说话内容限制”	自动检测是否说出关键词，违规时警告/替换回答